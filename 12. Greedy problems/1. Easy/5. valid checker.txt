

class Solution {
public:
    int startFromLeft(string s){
        int countLeft = 0, countStar = 0;
        for(int i = 0; i<s.size(); i++){
            if(s[i] == '('){
                countLeft++;
            }
            else if(s[i] == '*'){
                countStar++;
            }
            else{
                if(countLeft > 0)
                    countLeft--;
                else if(countStar > 0)
                    countStar--;
                else
                    return -1;
            }
        }
        return countLeft;
    }
    int startFromRight(string s){
        int countRight = 0, countStar = 0;
        for(int i = s.size()-1; i>=0; i--){
            if(s[i] == ')'){
                countRight++;
            }
            else if(s[i] == '*'){
                countStar++;
            }
            else{
                if(countRight > 0)
                    countRight--;
                else if(countStar > 0)
                    countStar--;
                else
                    return -1;
            }
        }
        return countRight;
    }
    bool checkValidString(string s) {
        // ((((
        int countLeft = startFromLeft(s);
        // ))))
        int countRight = startFromRight(s);
        
        if( (countLeft == -1) || (countRight == -1) )
            return false;

        return true;
    }
};

TC: O(2n)
SC: O(1)




#####################################################################################################################################################


class Solution {
public:
    pair<int,int> startFromBothSides(string s){
        int countLeft = 0, countStar = 0, countStartRight = 0, countRight = 0, len = s.size();
        for(int i = 0; i<len; i++){
            if(s[i] == '('){
                countLeft++;
            }
            else if(s[i] == '*'){
                countStar++;
            }
            else{
                if(countLeft > 0)
                    countLeft--;
                else if(countStar > 0)
                    countStar--;
                else
                    return {-1, 0};
            }

            
            if(s[len-1-i] == ')'){
                countRight++;
            }
            else if(s[len-1-i] == '*'){
                countStartRight++;
            }
            else{
                if(countRight > 0)
                    countRight--;
                else if(countStartRight > 0)
                    countStartRight--;
                else
                    return {0, -1};
            }
        }
        return {countLeft, countRight};
    }

    bool checkValidString(string s) {

        pair<int,int> curr = startFromBothSides(s);

        // ((((
        int countLeft = curr.first;
        // ))))
        int countRight = curr.second;

        if( (countLeft == -1) || (countRight == -1) )
            return false;

        return true;
    }
};

TC: O(n)
SC: O(1)

